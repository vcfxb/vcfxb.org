{% extends "base.html" %}

{% block content %}
  {% if page.toc %}
    <details>
      <summary> Table of Contents </summary>
      <nav id="TOC" role="doc-toc">
        <ol>
          {% for h1 in page.toc %}
            <li>
              <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
              {% if h1.children %}
                <ol>
                  {% for h2 in h1.children %}
                    <li>
                      <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
                      {% if h2.children %}
                        <ol>
                          {% for h3 in h2.children %}
                            <li>
                              <a href="{{ h3.permalink | safe }}"> {{ h3.title }} </a>
                            </li>
                          {% endfor %}
                        </ol>
                      {% endif %}
                    </li>
                  {% endfor %}
                </ol>
              {% endif %}
            </li>
          {% endfor %}
          </ol>
      </nav>
    </details>
  {% endif %}
  {{ page.content | safe }}
{% endblock content %}
